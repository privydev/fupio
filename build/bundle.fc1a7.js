!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s="pwNi")}({"3F7m":function(e,t,n){(function(){!function(){"use strict";function t(e){this.tokens=[],this.tokens.links={},this.options=e||h.defaults,this.rules=f.normal,this.options.gfm&&(this.rules=this.options.tables?f.tables:f.gfm)}function n(e,t){if(this.options=t||h.defaults,this.links=e,this.rules=d.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?d.breaks:d.gfm:this.options.pedantic&&(this.rules=d.pedantic)}function r(e){this.options=e||{}}function o(){}function i(e){this.tokens=[],this.token=null,this.options=e||h.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",{replace:function(t,n){return n=n.source||n,n=n.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function c(e,t){return g[" "+e]||(g[" "+e]=/^[^:]+:\/*[^\/]*$/.test(e)?e+"/":e.replace(/[^\/]*$/,"")),e=g[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^\/]*)[\s\S]*/,"$1")+t:e+t}function u(){}function p(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function h(e,n,r){if(void 0===e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof n){r||(r=n,n=null),n=p({},h.defaults,n||{});var o,s,l=n.highlight,c=0;try{o=t.lex(e,n)}catch(e){return r(e)}s=o.length;var u=function(e){if(e)return n.highlight=l,r(e);var t;try{t=i.parse(o,n)}catch(t){e=t}return n.highlight=l,e?r(e):r(null,t)};if(!l||l.length<3)return u();if(delete n.highlight,!s)return u();for(;c<o.length;c++)!function(e){"code"!==e.type?--s||u():l(e.text,e.lang,function(t,n){return t?u(t):null==n||n===e.text?--s||u():(e.text=n,e.escaped=!0,void(--s||u()))})}(o[c])}else try{return n&&(n=p({},h.defaults,n)),i.parse(t.lex(e,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||h.defaults).silent)return"<p>An error occurred:</p><pre>"+a(e.message+"",!0)+"</pre>";throw e}}var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};f._label=/(?:\\[\[\]]|[^\[\]])+/,f._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,f.def=l(f.def).replace("label",f._label).replace("title",f._title).getRegex(),f.bullet=/(?:[*+-]|\d+\.)/,f.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,f.item=l(f.item,"gm").replace(/bull/g,f.bullet).getRegex(),f.list=l(f.list).replace(/bull/g,f.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+f.def.source+")").getRegex(),f._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",f.html=l(f.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,f._tag).getRegex(),f.paragraph=l(f.paragraph).replace("hr",f.hr).replace("heading",f.heading).replace("lheading",f.lheading).replace("tag","<"+f._tag).getRegex(),f.blockquote=l(f.blockquote).replace("paragraph",f.paragraph).getRegex(),f.normal=p({},f),f.gfm=p({},f.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),f.gfm.paragraph=l(f.paragraph).replace("(?!","(?!"+f.gfm.fences.source.replace("\\1","\\2")+"|"+f.list.source.replace("\\1","\\3")+"|").getRegex(),f.tables=p({},f.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=f,t.lex=function(e,n){return new t(n).lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t){e=e.replace(/^ +$/gm,"");for(var n,r,o,i,a,s,l,c,u,p,h;e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),s={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<s.align.length;c++)s.align[c]=/^ *-+: *$/.test(s.align[c])?"right":/^ *:-+: *$/.test(s.align[c])?"center":/^ *:-+ *$/.test(s.align[c])?"left":null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].split(/ *\| */);this.tokens.push(s)}else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),i=o[2],h=i.length>1,this.tokens.push({type:"list_start",ordered:h,start:h?+i:""}),o=o[0].match(this.rules.item),n=!1,p=o.length,c=0;c<p;c++)s=o[c],l=s.length,s=s.replace(/^ *([*+-]|\d+\.) +/,""),~s.indexOf("\n ")&&(l-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==p-1&&(a=f.bullet.exec(o[c+1])[0],i===a||i.length>1&&a.length>1||(e=o.slice(c+1).join("\n")+e,c=p-1)),r=n||/\n\n(?!\s*$)/.test(s),c!==p-1&&(n="\n"===s.charAt(s.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),u=o[1].toLowerCase(),this.tokens.links[u]||(this.tokens.links[u]={href:o[2],title:o[3]});else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),s={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<s.align.length;c++)s.align[c]=/^ *-+: *$/.test(s.align[c])?"right":/^ *:-+: *$/.test(s.align[c])?"center":/^ *:-+ *$/.test(s.align[c])?"left":null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var d={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};d._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,d._email=/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,d.autolink=l(d.autolink).replace("scheme",d._scheme).replace("email",d._email).getRegex(),d._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,d._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,d.link=l(d.link).replace("inside",d._inside).replace("href",d._href).getRegex(),d.reflink=l(d.reflink).replace("inside",d._inside).getRegex(),d.normal=p({},d),d.pedantic=p({},d.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),d.gfm=p({},d.normal,{escape:l(d.escape).replace("])","~|])").getRegex(),url:l(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",d._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(d.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),d.breaks=p({},d.gfm,{br:l(d.br).replace("{2,}","*").getRegex(),text:l(d.gfm.text).replace("{2,}","*").getRegex()}),n.rules=d,n.output=function(e,t,r){return new n(t,r).output(e)},n.prototype.output=function(e){for(var t,n,r,o,i="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),i+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(n=a(this.mangle(o[1])),r="mailto:"+n):(n=a(o[1]),r=n),i+=this.renderer.link(r,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):a(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,i+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){i+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,i+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),i+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),i+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),i+=this.renderer.codespan(a(o[2].trim(),!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),i+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),i+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),i+=this.renderer.text(a(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else o[0]=this.rules._backpedal.exec(o[0])[0],e=e.substring(o[0].length),"@"===o[2]?(n=a(o[0]),r="mailto:"+n):(n=a(o[0]),r="www."===o[1]?"http://"+n:n),i+=this.renderer.link(r,null,n);return i},n.prototype.outputLink=function(e,t){var n=a(t.href),r=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,a(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,o=0;o<r;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+a(t,!0)+'">'+(n?e:a(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:a(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(s(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}this.options.baseUrl&&!m.test(e)&&(e=c(this.options.baseUrl,e));var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},r.prototype.image=function(e,t,n){this.options.baseUrl&&!m.test(e)&&(e=c(this.options.baseUrl,e));var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e},o.prototype.link=o.prototype.image=function(e,t,n){return""+n},o.prototype.br=function(){return""},i.parse=function(e,t){return new i(t).parse(e)},i.prototype.parse=function(e){this.inline=new n(e.links,this.options),this.inlineText=new n(e.links,p({},this.options,{renderer:new o})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,s(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o="",i="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(n)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var a=this.token.ordered,l=this.token.start;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,a,l);case"list_item_start":for(i="";"list_item_end"!==this.next().type;)i+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(i);case"loose_item_start":for(i="";"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i);case"html":return this.renderer.html(this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text));case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var g={},m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;u.exec=u,h.options=h.setOptions=function(e){return p(h.defaults,e),h},h.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1,baseUrl:null},h.Parser=i,h.parser=i.parse,h.Renderer=r,h.TextRenderer=o,h.Lexer=t,h.lexer=t.lex,h.InlineLexer=n,h.inlineLexer=n.output,h.parse=h,e.exports=h}(this||"undefined"!=typeof window&&window)}).call(t,n("h6ac"))},FCYz:function(e){"use strict";function t(e){return e>=55296&&e<=56319}function n(e){return e>=56320&&e<=57343}e.exports=function(e,r,o){if("string"!=typeof r)throw new Error("Input must be string");for(var i,a,s=r.length,l=0,c=0;c<s;c+=1){if(i=r.charCodeAt(c),a=r[c],t(i)&&n(r.charCodeAt(c+1))&&(c+=1,a+=r[c]),(l+=e(a))===o)return r.slice(0,c+1);if(l>o)return r.slice(0,c-a.length+1)}return r}},IQnt:function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("KM04"),s=a.h,l=a.Component,c=n("dj9O");e.exports=function(e){function t(){return r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"componentWillMount",value:function(){this.instance=c()}},{key:"componentDidMount",value:function(){this.renderTimeAgo()}},{key:"componentDidUpdate",value:function(){this.renderTimeAgo()}},{key:"componentWillUnmount",value:function(){this.instance.cancel()}},{key:"renderTimeAgo",value:function(){var e=this.props,t=e.datetime,n=e.live,r=void 0!==n&&n;this.instance.cancel(),this.base&&!1!==r&&(void 0===this.base.dataset&&(this.base.dataset={}),this.base.setAttribute("datetime",t.getTime?t.getTime():t),this.instance.render(this.base))}},{key:"render",value:function(e){return s("time",{class:e.class},this.instance.format(e.datetime))}}]),t}(l)},JkW7:function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,i=e.match(o),a={};if(i&&i[1])for(var l=i[1].split("&"),c=0;c<l.length;c++){var u=l[c].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}e=s(e.replace(o,"")),t=s(t||"");for(var p=Math.max(e.length,t.length),h=0;h<p;h++)if(t[h]&&":"===t[h].charAt(0)){var f=t[h].replace(/(^\:|[+*?]+$)/g,""),d=(t[h].match(/[+*?]+$/)||Le)[0]||"",g=~d.indexOf("+"),m=~d.indexOf("*"),b=e[h]||"";if(!b&&!m&&(d.indexOf("?")<0||g)){r=!1;break}if(a[f]=decodeURIComponent(b),g||m){a[f]=e.slice(h).map(decodeURIComponent).join("/");break}}else if(t[h]!==e[h]){r=!1;break}return(!0===n.default||!1!==r)&&a}function i(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function a(e,t){return e.index=t,e.rank=u(e),e.attributes}function s(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function l(e){return":"==e.charAt(0)?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}function c(e){return s(e).map(l).join("")}function u(e){return e.attributes.default?0:c(e.attributes.path)}function p(e){return null!=e.__preactattr_||"undefined"!=typeof Symbol&&null!=e[Symbol.for("preactattr")]}function h(e,t){void 0===t&&(t="push"),Ae&&Ae[t]?Ae[t](e):"undefined"!=typeof history&&history[t+"State"]&&history[t+"State"](null,null,e)}function f(){var e;return e=Ae&&Ae.location?Ae.location:Ae&&Ae.getCurrentLocation?Ae.getCurrentLocation():"undefined"!=typeof location?location:Ue,""+(e.pathname||"")+(e.search||"")}function d(e,t){return void 0===t&&(t=!1),"string"!=typeof e&&e.url&&(t=e.replace,e=e.url),g(e)&&h(e,t?"replace":"push"),m(e)}function g(e){for(var t=De.length;t--;)if(De[t].canRoute(e))return!0;return!1}function m(e){for(var t=!1,n=0;n<De.length;n++)!0===De[n].routeTo(e)&&(t=!0);for(var r=Re.length;r--;)Re[r](e);return t}function b(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return d(t)}}function y(e){if(0==e.button)return b(e.currentTarget||e.target||this),v(e)}function v(e){return e&&(e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault()),!1}function w(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||0!==e.button)){var t=e.target;do{if("A"===String(t.nodeName).toUpperCase()&&t.getAttribute("href")&&p(t)){if(t.hasAttribute("native"))return;if(b(t))return v(e)}}while(t=t.parentNode)}}function O(){Me||("function"==typeof addEventListener&&(Ae||addEventListener("popstate",function(){m(f())}),addEventListener("click",w)),Me=!0)}function j(){}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function G(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Y(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function X(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function be(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function we(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Oe(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Se(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var Ie=n("KM04"),Le={},Ae=null,De=[],Re=[],Ue={},Me=!1,Ne=function(e){function t(t){e.call(this,t),t.history&&(Ae=t.history),this.state={url:t.url||f()},O()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.shouldComponentUpdate=function(e){return!0!==e.static||(e.url!==this.props.url||e.onChange!==this.props.onChange)},t.prototype.canRoute=function(e){return this.getMatchingChildren(this.props.children,e,!1).length>0},t.prototype.routeTo=function(e){return this._didRoute=!1,this.setState({url:e}),this.updating?this.canRoute(e):(this.forceUpdate(),this._didRoute)},t.prototype.componentWillMount=function(){De.push(this),this.updating=!0},t.prototype.componentDidMount=function(){var e=this;Ae&&(this.unlisten=Ae.listen(function(t){e.routeTo(""+(t.pathname||"")+(t.search||""))})),this.updating=!1},t.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),De.splice(De.indexOf(this),1)},t.prototype.componentWillUpdate=function(){this.updating=!0},t.prototype.componentDidUpdate=function(){this.updating=!1},t.prototype.getMatchingChildren=function(e,t,n){return e.filter(a).sort(i).map(function(e){var i=o(t,e.attributes.path,e.attributes);if(i){if(!1!==n){var a={url:t,matches:i};return r(a,i),delete a.ref,delete a.key,Object(Ie.cloneElement)(e,a)}return e}}).filter(Boolean)},t.prototype.render=function(e,t){var n=e.children,r=e.onChange,o=t.url,i=this.getMatchingChildren(n,o,!0),a=i[0]||null;this._didRoute=!!a;var s=this.previousUrl;return o!==s&&(this.previousUrl=o,"function"==typeof r&&r({router:this,url:o,previous:s,active:i,current:a})),a},t}(Ie.Component),$e=function(e){return Object(Ie.h)("a",r({onClick:y},e))},Ge=function(e){return Object(Ie.h)(e.component,e)};Ne.subscribers=Re,Ne.getCurrentUrl=f,Ne.route=d,Ne.Router=Ne,Ne.Route=Ge,Ne.Link=$e;var Be=function(e,t){t=t||{};var n,r=0,o={},i=t.maxAttempts||1/0;return o.open=function(){n=new WebSocket(e,t.protocols||[]),n.onmessage=t.onmessage||j,n.onopen=function(e){(t.onopen||j)(e),r=0},n.onclose=function(e){1e3===e.code||1005===e.code||o.reconnect(e),(t.onclose||j)(e)},n.onerror=function(e){e&&"ECONNREFUSED"===e.code?o.reconnect(e):(t.onerror||j)(e)}},o.reconnect=function(e){r++<i?setTimeout(function(){(t.onreconnect||j)(e),o.open()},t.timeout||1e3):(t.onmaximum||j)(e)},o.json=function(e){n.send(JSON.stringify(e))},o.send=function(e){n.send(e)},o.close=function(e,t){n.close(e||1e3,t)},o.open(),o},ze=n("Xyob"),We=n.n(ze),Ve=function(e){function t(t){var n=_(this,e.call(this,t));return n.handleTagRoute=function(){n.props.updateMainState({feeds:[]});try{n.props.ws.json("/"==n.props.href?{type:"load_feeds",data:{tags:n.props.userSettings.tags}}:{type:"load_feeds",data:{tags:[n.props.title.toLowerCase()]}})}catch(e){console.log(e)}document.body.scrollTop=0,document.documentElement.scrollTop=0,d(n.props.href)},n.state={title:n.props.title||"link"},n}return x(t,e),t.prototype.render=function(e,t){var n=e.title,r=t.href;return Object(Ie.h)("span",{onClick:this.handleTagRoute,href:r,title:n,style:"cursor: pointer"},this.props.children?this.props.children:n)},t}(Ie.Component),qe=function(e){function t(n){k(this,t);var r=C(this,e.call(this,n));return r.onChangeText=function(e){r.setState({text:e.target.value})},r.onSubmitForm=function(e){e.preventDefault(),r.props.updateMainState({feeds:[]}),r.props.ws.json({type:"load_feeds",data:{tags:[r.state.text.toLowerCase()]}}),document.body.scrollTop=0,document.documentElement.scrollTop=0,d("/"+r.state.text)},r.onClickIcon=function(){r.setState({clickedIcon:!0})},r.state={text:""},r}return P(t,e),t.prototype.render=function(e,t){var n=t.clickedIcon;S(e);var r=Object(Ie.h)("span",{onClick:this.onClickIcon,class:"icon icon-search",style:"padding-left:0.3em"}),o=Object(Ie.h)("form",{style:"display:inline",onSubmit:this.onSubmitForm,action:"javascript:"},Object(Ie.h)("input",{onInput:this.onChangeText,class:"search",type:"text",placeholder:"Go to Tag",autofocus:!0}));return n?o:r},t}(Ie.Component),He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye=Object(Ie.h)("h1",{class:"logo"},"Fupio"),Je=Object(Ie.h)("span",{class:"icon icon-home"}),Ze=Object(Ie.h)($e,{href:"/user/discover",title:"Discover"},Object(Ie.h)("span",{class:"icon icon-star"})),Ke=Object(Ie.h)($e,{href:"/user/settings",title:"Settings"},Object(Ie.h)("span",{class:"icon icon-cog"})),Xe=function(e){function t(n){return T(this,t),E(this,e.call(this,n))}return F(t,e),t.prototype.render=function(){return Object(Ie.h)("header",{class:"header"},Object(Ie.h)("section",{class:"container"},Object(Ie.h)(Ve,He({href:"/",title:"Fupio"},this.props),Ye),this.props.user&&Object(Ie.h)("nav",null,Object(Ie.h)(Ve,He({href:"/",title:"Home"},this.props),Je),Ze,Ke,Object(Ie.h)(qe,this.props))))},t}(Ie.Component),Qe=n("IQnt"),et=n.n(Qe),tt=n("VidE"),nt=n.n(tt),rt=Object(Ie.h)("span",{class:"icon icon-check"}),ot=Object(Ie.h)("span",{class:"icon icon-plus"}),it=function(e){function t(n){I(this,t);var r=L(this,e.call(this,n));return r.handleTagRoute=function(){r.props.updateMainState({feeds:[]}),r.props.ws.json("/"==r.props.href?{type:"load_feeds",data:{tags:r.props.userSettings.tags}}:{type:"load_feeds",data:{tags:[r.props.tag.toLowerCase()]}}),document.body.scrollTop=0,document.documentElement.scrollTop=0},r.handleFollowAction=function(e){e.preventDefault(),1==r.state.isFollowing?(r.setState({isFollowing:!1}),r.props.unFollowTag(r.props.tag)):(r.setState({isFollowing:!0}),r.props.followTag(r.props.tag))},r.state={isFollowing:null,init:!1},r}return A(t,e),t.prototype.componentDidMount=function(){this.setState({isFollowing:!1})},t.prototype.componentDidUpdate=function(){if(!this.state.init&&this.props.tag){var e=this.props.tag.toLowerCase();this.setState(this.props.userSettings.tags.map(function(e){return"string"==typeof e&&e.toLowerCase()}).includes(e)?{isFollowing:!0,init:!0}:{isFollowing:!1,init:!0})}},t.prototype.render=function(e,t){var n=e.tag,r=t.isFollowing;return Object(Ie.h)("div",{class:"tagButton"},Object(Ie.h)("a",{onClick:this.handleTagRoute,href:"/"+n.toLowerCase()},n.toLowerCase()),Object(Ie.h)("button",{class:r?"active":null,onClick:this.handleFollowAction},r?rt:ot))},t}(Ie.Component),at=Object(Ie.h)("span",{class:"icon icon-comment"}," "),st=Object(Ie.h)("span",null," - "),lt=function(e){function t(n){return D(this,t),R(this,e.call(this,n))}return U(t,e),t.prototype.render=function(e){var t=e.text,n=e.username;return Object(Ie.h)("p",{class:"comment"},at,t,st,Object(Ie.h)("a",{href:"javascript:"},n))},t}(Ie.Component),ct=Object(Ie.h)("span",null,"s"),ut=function(e){function t(n){M(this,t);var r=N(this,e.call(this,n));return r.openCommentList=function(e){e.preventDefault(),r.setState({show:!0})},r.state={show:!1},r}return $(t,e),t.prototype.render=function(e,t){var n=e.comments,r=t.show;return Object(Ie.h)("div",{class:"commentList"},n&&!r&&n.length>3&&Object(Ie.h)("div",null,Object(Ie.h)(lt,n[0]),Object(Ie.h)("a",{href:"javascript:",onClick:this.openCommentList},Object(Ie.h)("span",{style:"border-bottom: 1px dotted"},n.length-3," more comment",n.length>4&&ct)),Object(Ie.h)(lt,n[n.length-2]),Object(Ie.h)(lt,n[n.length-1])),n&&r&&n.length>3&&n.map(function(e){return Object(Ie.h)(lt,e)}),n&&n.length<4&&n.map(function(e){return Object(Ie.h)(lt,e)}))},t}(Ie.Component),pt=window.blockstack.putFile,ht=function(e){function t(n){B(this,t);var r=z(this,e.call(this,n));return r.onChangeText=function(e){r.setState({text:e.target.value})},r.onSubmitForm=function(){var e={username:r.props.user.username,text:r.state.text.trim(),created:Date.now(),identity:r.props.user.identityAddress,feedId:r.props.created+"-"+r.props.identity};r.setState({text:""});var t=r.props.created+"-"+r.props.identity+"-"+e.created+".json",n={username:r.props.username,app:r.props.address,decrypt:!1};pt(t,JSON.stringify(e),n).then(function(){r.props.ws.json({type:"add_comment",data:e})}),console.log(e)},r.state={text:""},r}return W(t,e),t.prototype.render=function(e,t){var n=t.text;return G(e),Object(Ie.h)("div",{class:"createComment"},Object(Ie.h)("form",{action:"javascript:",onSubmit:this.onSubmitForm},Object(Ie.h)("input",{value:n,onInput:this.onChangeText,class:"text",type:"text",placeholder:"comment text",autocomplete:"off",required:!0,autofocus:!0})))},t}(Ie.Component),ft=Object(Ie.h)("div",{class:"loader",title:"loading"},Object(Ie.h)("svg",{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 50 50",style:"enable-background:new 0 0 50 50;",xmlSpace:"preserve"},Object(Ie.h)("path",{fill:"#505664",d:"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z"},Object(Ie.h)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"})))),dt=function(e){function t(){return V(this,t),q(this,e.apply(this,arguments))}return H(t,e),t.prototype.render=function(){return ft},t}(Ie.Component),gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt=Object(Ie.h)("span",null,Object(Ie.h)("span",{class:"icon icon-chat"})," comment"),bt=Object(Ie.h)("strong",null,Object(Ie.h)("span",{class:"icon icon-chat"})," comment"),yt=Object(Ie.h)("hr",null),vt=Object(Ie.h)("hr",null),wt=Object(Ie.h)("hr",null),Ot=function(e){function t(n){J(this,t);var r=Z(this,e.call(this,n));return r.updateCommentForm=function(e){e.preventDefault();var t=r.state.commentFormOpen=!r.state.commentFormOpen;r.setState({commentFormOpen:t,commentText:r.state.commentFormOpen?bt:mt})},r.state={commentFormOpen:!1,commentText:mt,imageLoaded:!1},r}return K(t,e),t.prototype.render=function(e,t){var n=this,r=e.identity,o=e.created,i=e.username,a=e.text,s=e.comments,l=e.tags,c=e.image,u=e.profiles;return Y(t),Object(Ie.h)("div",{style:"margin: 1.67em auto"},Object(Ie.h)("div",{class:"feed row"},Object(Ie.h)("div",{class:"col-tenth"},Object(Ie.h)("a",{href:"javascript:"},Object(Ie.h)("img",{class:"profileImage",onError:function(e){e.target.src="/assets/profile.png"},src:u[i]&&u[i].avatar?u[i].avatar:"/assets/profile.png"}))),Object(Ie.h)("div",{class:"col"},Object(Ie.h)("content",null,Object(Ie.h)("a",{href:"javascript:"},i?Object(Ie.h)("strong",null,i):Object(Ie.h)("strong",null,r.slice(0,9),"...")),a&&Object(Ie.h)(nt.a,{markdown:a.replace(/!\[(.*?)\]\((.*?)\)/g,"").replace("javascript:","javascript_")}),c&&c.name&&Object(Ie.h)("img",{src:c.base64,title:c.origin})),yt,Object(Ie.h)("actions",null,Object(Ie.h)("span",null,Object(Ie.h)(et.a,{datetime:o,live:!0})),this.props.user.username&&Object(Ie.h)("span",null," - ",Object(Ie.h)("a",{href:"javascript:",onClick:this.updateCommentForm},this.state.commentText))),vt,Object(Ie.h)(ut,{comments:s}),this.state.commentFormOpen&&Object(Ie.h)(ht,this.props),wt,Object(Ie.h)("tags",null,l&&l.map(function(e){return Object(Ie.h)("span",null,Object(Ie.h)(it,gt({tag:e},n.props)))})))))},t}(Ie.Component),jt=n("Yhwg"),_t=n.n(jt),xt=n("xZyk"),St=n.n(xt),kt=n("YEvp"),Ct=n.n(kt),Pt=window.blockstack,Tt=Pt.putFile,Et=Object(Ie.h)("input",{type:"submit",value:"create feed"}),Ft=Object(Ie.h)("center",null,Object(Ie.h)(dt,null)),It=function(e){function t(n){Q(this,t);var r=ee(this,e.call(this,n));return r.onChangeTags=function(e){var t=e.value.map(function(e){return Ct()(e.replace("#",""))});r.setState({tags:t})},r.onChangeText=function(e){r.setState({text:e.target.value})},r.onSubmitFeed=function(){var e={username:r.props.user.username,text:r.state.text.trim(),comments:[],rating:null,tags:r.state.tags.filter(function(e){return e.length>1}),image:r.state.image,created:Date.now(),identity:r.props.user.identityAddress};r.state.tags.length>0?(r.saveFeed(e),r.saveRelation(e),r.setState({tags:[],text:"",image:null})):alert("Need to put one tag at least")},r.saveFeed=function(e){var t={username:r.props.user.username,app:r.props.address,encrypt:!1};Tt(e.created+"-"+e.identity+".json",JSON.stringify(e),t).then(function(){r.props.ws.json({type:"add_feed",data:e}),e.tags.map(function(e){r.props.followTag(e)})})},r.saveRelation=function(e){var t=r.props.userSettings;t.feeds?t.feeds.unshift(e.created+"-"+e.identity+".json"):t.feeds=[e.created+"-"+e.identity+".json"],r.props.updateMainState({userSettings:t}),Tt(r.props.user.identityAddress+"-profile.json",JSON.stringify(t),{encrypt:!0}).then(function(){r.props.updateMainState({isLoading:!1})})},r.handleFileSelect=function(e){var t=r,n=e.target.files[0],o={quality:.5,maxWidth:1280,maxHeight:720,autoRotate:!0,debug:!0};St()(n,o).then(function(e){t.setState({imageLoading:!0});var r="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o=new FileReader;o.readAsDataURL(e),o.onloadend=function(){r=o.result;var i={name:t.props.user.identityAddress+"_"+Date.now()+"_image.json",size:e.size,type:e.type,origin:n.name,base64:r},a={username:t.props.user.username,app:t.props.address,decrypt:!1};Tt(i.name,JSON.stringify(i),a).then(function(){t.setState({imageLoading:!1,image:i})})}})},r.state={tags:[],text:"",image:null},r}return te(t,e),t.prototype.render=function(e,t){var n=t.text,r=t.tags,o=t.imageLoading;return X(e),Object(Ie.h)("div",{class:"createFeed"},Object(Ie.h)("form",{action:"javascript:",onSubmit:this.onSubmitFeed},Object(Ie.h)("textarea",{value:n,onInput:this.onChangeText,class:"text",type:"text",placeholder:"what a lovely day..",autocomplete:"off",required:"required"}),Object(Ie.h)(_t.a,{value:r,onChange:this.onChangeTags,placeholder:"tags, here, like, this",autocomplete:"off"}),Object(Ie.h)("div",{class:"row"},Object(Ie.h)("div",{class:"col imageUpload"},Object(Ie.h)("input",{onChange:this.handleFileSelect,type:"file",accept:"image/*"})),Object(Ie.h)("div",{class:"col col-third"},!o&&Et,o&&Ft))))},t}(Ie.Component),Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At=Object(Ie.h)("h1",{class:"logo"},"Fupio"),Dt=Object(Ie.h)("p",null,"Made with ♥ on Blockstack Network."),Rt=Object(Ie.h)("div",{class:"col"},Object(Ie.h)("h3",null,"Pages"),Object(Ie.h)("ul",null,Object(Ie.h)("li",null,Object(Ie.h)($e,{href:"/page/rules"},"Rules")),Object(Ie.h)("li",null,Object(Ie.h)($e,{href:"/page/about"},"About")),Object(Ie.h)("li",null,Object(Ie.h)($e,{href:"/page/team"},"Team")))),Ut=Object(Ie.h)("div",{class:"col"},Object(Ie.h)("h3",null,"Links"),Object(Ie.h)("ul",null,Object(Ie.h)("li",null,Object(Ie.h)("a",{target:"_blank",rel:"noopener",href:"https://github.com/fupio"},"Github")),Object(Ie.h)("li",null,Object(Ie.h)("a",{target:"_blank",rel:"noopener",href:"https://speakerdeck.com/mehmetkose/fupio-a-decentralized-microblogging-application"},"Presentation")),Object(Ie.h)("li",null,Object(Ie.h)("a",{target:"_blank",rel:"noopener",href:"https://t.me/joinchat/BeM0LwwdJkoIBbkketDfCw"},"Telegram")))),Mt=Object(Ie.h)("div",{class:"col"},Object(Ie.h)("h3",null,"Resources"),Object(Ie.h)("ul",null,Object(Ie.h)("li",null,Object(Ie.h)($e,{href:"/page/privacy"},"Privacy Policy")),Object(Ie.h)("li",null,Object(Ie.h)($e,{href:"/page/tos"},"Terms of Use")),Object(Ie.h)("li",null,Object(Ie.h)($e,{href:"/page/faq"},"FAQ")),Object(Ie.h)("li",null,Object(Ie.h)($e,{href:"/page/branding"},"Branding")))),Nt=Object(Ie.h)("h3",null,"Tags"),$t=function(e){function t(n){ne(this,t);var r=re(this,e.call(this,n));return r.state={},r}return oe(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this;return Object(Ie.h)("footer",{class:"footer"},Object(Ie.h)("div",{class:"row"},Object(Ie.h)("div",{class:"col"},At,Dt,Object(Ie.h)("p",null," © ",(new Date).getFullYear()," ")),Rt,Ut,Mt,this.props.ws&&Object(Ie.h)("div",{class:"col"},Nt,Object(Ie.h)("ul",null,this.props.suggested&&this.props.suggested.slice(0,5).map(function(t){return Object(Ie.h)("li",null,Object(Ie.h)(Ve,Lt({href:"/"+t,title:t},e.props),Object(Ie.h)("span",null,t)))})))))},t}(Ie.Component),Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bt=function(e){function t(n){return ie(this,t),ae(this,e.call(this,n))}return se(t,e),t.prototype.render=function(e){var t=this,n=e.suggested;return Object(Ie.h)("div",{class:"onboarding feed text-center"},n&&n.map(function(e){return Object(Ie.h)(it,Gt({tag:e},t.props))}))},t}(Ie.Component),zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wt=Object(Ie.h)("div",{id:"loaderBox"},Object(Ie.h)(dt,null)),Vt=Object(Ie.h)("h3",null,"Follow at least ",Object(Ie.h)("strong",null,"7")," tags which you interests."),qt=Object(Ie.h)("div",{class:"feed text-center",style:"min-height: 0.2em;font-size:0.8em"},Object(Ie.h)("content",null,"You're in the ",Object(Ie.h)("strong",null,"restrict")," mode. Because you don't have any",Object(Ie.h)("strong",null," ",Object(Ie.h)("a",{target:"_blank",href:"http://localhost:8888/profiles/i/all"},"Blockstack ID")),". You can ",Object(Ie.h)("strong",null,"follow")," the tags, but unfortunately you ",Object(Ie.h)("strong",null,"can't "),"create feeds or reply for now. You can get an ID ",Object(Ie.h)("strong",null,Object(Ie.h)("a",{target:"_blank",href:"http://localhost:8888/profiles/i/all"},"here"))," if you wish.")),Ht=Object(Ie.h)("span",{class:"icon icon-left-open"}),Yt=Object(Ie.h)("span",{class:"icon icon-right-open"}),Jt=function(e){function t(n){le(this,t);var r=ce(this,e.call(this,n));return r.loadWall=function(){var e=[r.state.slug];window.location.pathname.length<=1&&(e=r.props.userSettings.tags),r.props.updateMainState({feeds:[]}),r.props.ws.json({type:"load_feeds",data:{tags:e,page:r.props.page||0}})},r.state={init:null,slug:decodeURIComponent(window.location.pathname).slice(1).trim().toLocaleLowerCase()},r}return ue(t,e),t.prototype.componentDidMount=function(){this.setState({init:!1})},t.prototype.componentDidUpdate=function(){this.props.wsConnected&&this.props.ws&&this.props.userSettings.tags.length>this.props.tagCount&&this.props.profileLoaded&&!this.state.init&&(this.setState({init:!0}),this.loadWall())},t.prototype.render=function(e){var t=this,n=e.userSettings,r=e.isLoading,o=e.tagCount,i=e.user,a=e.profileLoaded,s=e.wsConnected,l=e.feeds;return Object(Ie.h)("div",null,Object(Ie.h)(Xe,this.props),Object(Ie.h)("div",{class:"container"},Object(Ie.h)("div",{class:"wall",style:"min-height: "+window.innerHeight/7*5+"px;"},r&&Wt,n&&n.tags&&n.tags.length<=o&&a&&Object(Ie.h)("div",null,Vt,Object(Ie.h)(Bt,this.props)),i&&i.username&&s&&window.location.pathname.length>1&&Object(Ie.h)("div",{class:"text-center",style:"margin-bottom: 1em"},Object(Ie.h)(it,zt({},this.props,{tag:this.state.slug}))),i&&i.username&&n&&n.tags&&n.tags.length>o&&Object(Ie.h)(It,this.props),i&&!i.username&&qt,l.map(function(e){return Object(Ie.h)(Ot,zt({},e,t.props))}),Object(Ie.h)("div",{class:"row",style:"margin-top: 2em"},this.props.page&&parseInt(this.props.page)>0&&Object(Ie.h)("div",{class:"col text-left"},Object(Ie.h)("a",{class:"button",href:"?page="+((parseInt(this.props.page)||0)-1)},Ht," previous")),l.length>3&&Object(Ie.h)("div",{class:"col text-right"},Object(Ie.h)("a",{class:"button",href:"?page="+((parseInt(this.props.page)||0)+1)},Yt," next")))),Object(Ie.h)($t,this.props)))},t}(Ie.Component),Zt=window.blockstack.redirectToSignIn,Kt=Object(Ie.h)("h1",{class:"logo"},"Fupio"),Xt=Object(Ie.h)("h2",null,"Dead simple decentralized microblogging application."),Qt=Object(Ie.h)(dt,null),en=Object(Ie.h)("section",{class:"col watermelon"},Object(Ie.h)("img",{src:"/assets/watermelon.png",alt:"watermelon"})),tn=Object(Ie.h)("hr",null),nn=function(e){function t(n){pe(this,t);var r=he(this,e.call(this,n));return r.handleSignIn=function(e){e.preventDefault(),r.setState({clickedLogin:!0});var t=window.location.origin;Zt(t,t+"/manifest.json",["store_write","publish_data"])},r}return fe(t,e),t.prototype.render=function(){return Object(Ie.h)("div",{class:"container"},Object(Ie.h)("div",{class:"index"},Object(Ie.h)("div",{class:"row"},Object(Ie.h)("section",{class:"col"},Kt,Xt,Object(Ie.h)("button",{class:"action red",onClick:this.handleSignIn},this.state.clickedLogin?Qt:"Sign In with Blockstack")),en)),tn,Object(Ie.h)($t,this.props))},t}(Ie.Component),rn=function(e){function t(n){return de(this,t),ge(this,e.call(this,n))}return me(t,e),t.prototype.render=function(){return this.props.user?Object(Ie.h)(Jt,this.props):Object(Ie.h)(nn,this.props)},t}(Ie.Component),on=Object(Ie.h)("hr",null),an=function(e){function t(n){ye(this,t);var r=ve(this,e.call(this,n));return r.state={content:{},title:"",body:[]},r}return we(t,e),t.prototype.componentDidMount=function(){var e=this;fetch("/assets/pages.json").then(function(e){return e.json()}).then(function(t){e.setState({content:t}),e.loadContent()}),document.body.scrollTop=0,document.documentElement.scrollTop=0},t.prototype.componentDidUpdate=function(){var e=this;setInterval(function(){e.loadContent()},2e3)},t.prototype.loadContent=function(){var e=this.state.content[this.props.page_slug];e&&this.setState({title:e.title,body:e.body})},t.prototype.render=function(e,t){var n=t.title,r=t.body;return be(e),Object(Ie.h)("div",null,Object(Ie.h)(Xe,this.props),Object(Ie.h)("div",{class:"container"},Object(Ie.h)("div",{class:"wall page",style:"min-height: "+window.innerHeight/7*5+"px;"},on,Object(Ie.h)("h1",null,n),r.map(function(e){return Object(Ie.h)(nt.a,{markdown:e})})),Object(Ie.h)($t,this.props)))},t}(Ie.Component),sn=Object(Ie.h)("label",null,"Username"),ln=Object(Ie.h)("hr",null),cn=Object(Ie.h)("hr",null),un=Object(Ie.h)("label",{style:"margin-top: 3em"},Object(Ie.h)("span",null,"Logout ")),pn=Object(Ie.h)("span",{class:"icon icon-logout"}),hn=Object(Ie.h)("div",{class:"col"}),fn=function(e){function t(n){je(this,t);var r=_e(this,e.call(this,n));return r.state={},r}return xe(t,e),t.prototype.render=function(e,t){var n=e.user;return Oe(t),Object(Ie.h)("div",null,Object(Ie.h)(Xe,this.props),Object(Ie.h)("div",{class:"container"},Object(Ie.h)("div",{class:"wall page",style:"min-height: "+window.innerHeight/7*5+"px;"},Object(Ie.h)("div",{class:"row"},Object(Ie.h)("div",{class:"col"},n&&Object(Ie.h)("form",null,sn,Object(Ie.h)("input",{type:"text",value:n.username,disabled:!0}),ln),cn,un,Object(Ie.h)($e,{href:"#",title:"Logout",onClick:this.props.handleSignOut},pn)),hn)),Object(Ie.h)($t,this.props)))},t}(Ie.Component),dn=Object(Ie.h)("h2",null,"Discover"),gn=Object(Ie.h)("label",null,"Tag Suggestions"),mn=Object(Ie.h)("hr",null),bn=function(e){function t(n){ke(this,t);var r=Ce(this,e.call(this,n));return r.state={init:null},r}return Pe(t,e),t.prototype.componentDidMount=function(){this.setState({init:!1})},t.prototype.componentDidUpdate=function(){this.props.ws&&this.props.wsConnected&&!this.state.init&&(this.props.ws.json({type:"popular_tags"}),this.setState({init:!0}))},t.prototype.render=function(e,t){return Se(t),Se(e),Object(Ie.h)("div",null,Object(Ie.h)(Xe,this.props),Object(Ie.h)("div",{class:"container"},Object(Ie.h)("div",{class:"wall",style:"min-height: "+window.innerHeight/7*5+"px;"},dn,gn,Object(Ie.h)(Bt,this.props),mn),Object(Ie.h)($t,this.props)))},t}(Ie.Component);n("yY49");n.d(t,"default",function(){return En});var yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vn=window.blockstack,wn=vn.isSignInPending,On=vn.isUserSignedIn,jn=vn.redirectToSignIn,_n=vn.handlePendingSignIn,xn=vn.signUserOut,Sn=vn.loadUserData,kn=vn.lookupProfile,Cn=vn.Person,Pn=vn.getFile,Tn=vn.putFile,En=function(e){function t(n){Te(this,t);var r=Ee(this,e.call(this,n));return r.unique=function(e){return[].concat(new Set(e))},r.initConnection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wss://orion8.herokuapp.com",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=e+"?v="+t+"&token="+r.state.user.authResponseToken,o=new Be(n,{timeout:7e3,maxAttempts:10,onopen:function(){return r.setState({wsConnected:!0})},onmessage:function(e){return r.handleWebSocket(e)},onreconnect:function(){return r.setState({wsConnected:!0})},onmaximum:function(){return r.setState({ws:null,wsConnected:!1})},onclose:function(){return r.setState({ws:null,wsConnected:!1})},onerror:function(e){return console.log("Something Wrong With the Connection. Error: ",e)}});r.setState({ws:o})},r.handleWebSocket=function(e){var t=JSON.parse(e.data||"{}");switch(t.type){case"feed_load_promise":r.loadFeedPromise(t.data),r.loadProfilePromise(t.data.username);break;case"comment_load_promise":r.loadCommentPromise(t.data);break;case"tag_suggestion":var n=t.data.toLowerCase(),o=r.state.suggested;o.unshift(n),r.setState({suggested:r.unique(o)});break;case"sort_wall":r.sortFeedsByRank()}console.log("get -> ",t)},r.loadProfilePromise=function(e){var t=r.state.profiles;!t||e in t||(t[e]="pending",r.setState({profiles:t}),kn(e).then(function(n){var o=new Cn(n);t[e]={avatar:o.avatarUrl()},r.setState({profiles:t})}))},r.getFeed=function(e,t){for(var n=r.state.feeds,o=Array.isArray(n),i=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(i>=n.length)break;a=n[i++]}else{if(i=n.next(),i.done)break;a=i.value}var s=a;if(parseInt(e)==parseInt(s.created)&&t==s.identity)return s}return!1},r.updateFeed=function(e,t,n){var o=r.state.feeds;o.map(function(i,a){e==i.created&&t==i.identity&&(o[a]=n,r.setState({feeds:o}))})},r.loadFeedPromise=function(e){console.log("debug: load feed from gaia",e);var t=We()(0,0,new Date(e.created)),n=yn({resolved:!1,rank:t},e);if(0==r.getFeed(n.created,n.identity)){r.state.feeds.unshift(n),r.setState({feeds:r.state.feeds});r.state.ws.json({type:"follow_tag",data:{name:n.created+"-"+n.identity}});Pn(n.created+"-"+n.identity+".json",{username:n.username,app:r.state.address,decrypt:!1}).then(function(e){if(e){var t=JSON.parse(e),o=r.getFeed(n.created,n.identity);o&&(o.resolved=!0,o.username=t.username,o.text=t.text,o.image=t.image,o.likes=t.likes,o.rating=t.rating,r.updateFeed(n.created,n.identity,o))}})}},r.parseID=function(e){var t=e.split("-");return{created:t[0],identity:t[1],commentCreated:t[2]}},r.loadCommentPromise=function(e){var t=r.parseID(e.feedId),n=t.created,o=t.identity,i=r.getFeed(n,o);i&&(i.comments||(i.comments=[]),i.comments.push(e),e.created>i.created&&(i.created=e.created,i.rank=We()(0,0,new Date(i.created))),r.updateFeed(n,o,i),r.state.user.identityAddress!==e.identity&&r.sortFeedsByRank())},r.loadProfile=function(){var e={decrypt:!0};Pn(r.state.user.identityAddress+"-profile.json",e).then(function(t){var n=JSON.parse(t||"{}");if(n.tags)r.setState({userSettings:n});else{var o={tags:[r.state.user.identityAddress],feeds:[]};Tn(r.state.user.identityAddress+"-profile.json",JSON.stringify(o),e),r.setState({userSettings:n})}r.setState({isLoading:!1,profileLoaded:!0})}).catch(function(e){r.setState({internetConnection:!1}),console.log(e)})},r.followTag=function(e){if(e){var t=e.toLowerCase(),n=r.state.userSettings;n.tags.includes(t)||(n.tags.unshift(t),r.state.ws.json({type:"follow_tag",data:{name:t}})),r.setState({userSettings:n}),Tn(r.state.user.identityAddress+"-profile.json",JSON.stringify(n),{encrypt:!0})}},r.unFollowTag=function(e){var t=e.toLowerCase(),n=r.state.userSettings;console.log("newUserSettings",n),n.tags.includes(t)?(n.tags=n.tags.filter(function(e){return e!==t}),r.state.ws.json({type:"unfollow_tag",data:{name:t}})):console.error("there is no tag for unfollow: ",t,n.tags),r.setState({userSettings:n}),Tn(r.state.user.identityAddress+"-profile.json",JSON.stringify(n),{encrypt:!0})},r.sortFeedsByRank=function(){var e=r.state.feeds;e.sort(function(e,t){return t.rank-e.rank}),r.setState({feeds:e})},r.handleRoute=function(e){r.currentUrl=e.url},r.state={ws:null,wsConnected:!1,user:null,suggested:["Blockstack","Fupio","Blockchain","Movies","Geek","Technology","Science","Nature","Food","Drink","Books","Gardening","Illustrations","Posters","Products","Travel","Photography","Design","Music","DIY","Crafts","Tattoos","Education"],address:window.location.origin,userSettings:{tags:["fupio"]},profileLoaded:!1,isLoading:!1,pubSubInit:!1,feedListFileName:"fupio-feeds-ai.json",feeds:[],profiles:{},tagCount:7,updateMainState:r.updateMainState.bind(r),followTag:r.followTag.bind(r),unFollowTag:r.unFollowTag.bind(r),handleSignIn:r.handleSignIn.bind(r),handleSignOut:r.handleSignOut.bind(r)},r}return Fe(t,e),t.prototype.componentWillMount=function(){wn()&&_n().then(function(){window.location=window.location.origin})},t.prototype.updateMainState=function(e){this.setState(e)},t.prototype.handleSignIn=function(e){e.preventDefault();var t=window.location.origin;jn(t,t+"/manifest.json",["store_write","publish_data"])},t.prototype.handleSignOut=function(e){e.preventDefault(),xn(window.location.origin),this.setState({user:null,userSettings:null})},t.prototype.componentDidUpdate=function(){this.state.user&&0==this.state.profileLoaded&&0==this.state.isLoading?setTimeout(this.loadProfile(),100):On()&&!this.state.ws&&1==this.state.profileLoaded&&0==this.state.isLoading?window.location.origin.includes("localhost")?setTimeout(this.initConnection("ws://localhost:5000"),200):setTimeout(this.initConnection(),200):this.state.profileLoaded&&this.state.wsConnected&&!this.state.pubSubInit&&(this.setState({pubSubInit:!0}),this.state.ws.json({type:"init_pub_sub",data:{tags:this.state.userSettings.tags}}))},t.prototype.render=function(){if(On()&&null==this.state.user){this.setState({user:Sn()})}return Object(Ie.h)(Ne,{onChange:this.handleRoute},Object(Ie.h)(rn,yn({path:"/"},this.state)),Object(Ie.h)(Jt,yn({path:"/:feed_slug"},this.state)),Object(Ie.h)(bn,yn({path:"/user/discover"},this.state)),Object(Ie.h)(fn,yn({path:"/user/settings"},this.state,{feeds:null})),Object(Ie.h)(an,yn({path:"/page/:page_slug"},this.state,{feeds:null})))},t}(Ie.Component)},KM04:function(e){!function(){"use strict";function t(e,t){var n,r,o,i,a=L;for(i=arguments.length;i-- >2;)I.push(arguments[i]);for(t&&null!=t.children&&(I.length||I.push(t.children),delete t.children);I.length;)if((r=I.pop())&&void 0!==r.pop)for(i=r.length;i--;)I.push(r[i]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r+="":"string"!=typeof r&&(o=!1)),o&&n?a[a.length-1]+=r:a===L?a=[r]:a.push(r),n=o;var s=new E;return s.nodeName=e,s.children=a,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==F.vnode&&F.vnode(s),s}function n(e,t){for(var n in t)e[n]=t[n];return e}function r(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}function o(e,r){return t(e.nodeName,n(n({},e.attributes),r),arguments.length>2?[].slice.call(arguments,2):e.children)}function i(e){!e.__d&&(e.__d=!0)&&1==R.push(e)&&(F.debounceRendering||A)(a)}function a(){for(var e;e=R.pop();)e.__d&&x(e)}function s(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&l(e,t.nodeName):n||e._componentConstructor===t.nodeName}function l(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function c(e){var t=n({},e.attributes);t.children=e.children;var r=e.nodeName.defaultProps;if(void 0!==r)for(var o in r)void 0===t[o]&&(t[o]=r[o]);return t}function u(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.__n=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n,o,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)r(n,null),r(o,e);else if("class"!==t||i)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var a in n)a in o||(e.style[a]="");for(var a in o)e.style[a]="number"==typeof o[a]&&!1===D.test(a)?o[a]+"px":o[a]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var s=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,f,s):e.removeEventListener(t,f,s),(e.__l||(e.__l={}))[t]=o}else if("list"!==t&&"type"!==t&&!i&&t in e){try{e[t]=null==o?"":o}catch(e){}null!=o&&!1!==o||"spellcheck"==t||e.removeAttribute(t)}else{var l=i&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(l?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function f(e){return this.__l[e.type](F.event&&F.event(e)||e)}function d(){for(var e;e=U.shift();)F.afterMount&&F.afterMount(e),e.componentDidMount&&e.componentDidMount()}function g(e,t,n,r,o,i){M++||(N=null!=o&&void 0!==o.ownerSVGElement,$=null!=e&&!("__preactattr_"in e));var a=m(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--M||($=!1,i||d()),a}function m(e,t,n,r,o){var i=e,a=N;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),y(e,!0))),i.__preactattr_=!0,i;var s=t.nodeName;if("function"==typeof s)return S(e,t,n,r);if(N="svg"===s||"foreignObject"!==s&&N,s+="",(!e||!l(e,s))&&(i=u(s,N),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),y(e,!0)}var c=i.firstChild,p=i.__preactattr_,h=t.children;if(null==p){p=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)p[f[d].name]=f[d].value}return!$&&h&&1===h.length&&"string"==typeof h[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=h[0]&&(c.nodeValue=h[0]):(h&&h.length||null!=c)&&b(i,h,n,r,$||null!=p.dangerouslySetInnerHTML),w(i,t.attributes,p),N=a,i}function b(e,t,n,r,o){var i,a,l,c,u,h=e.childNodes,f=[],d={},g=0,b=0,v=h.length,w=0,O=t?t.length:0;if(0!==v)for(var j=0;j<v;j++){var _=h[j],x=_.__preactattr_,S=O&&x?_._component?_._component.__k:x.key:null;null!=S?(g++,d[S]=_):(x||(void 0!==_.splitText?!o||_.nodeValue.trim():o))&&(f[w++]=_)}if(0!==O)for(var j=0;j<O;j++){c=t[j],u=null;var S=c.key;if(null!=S)g&&void 0!==d[S]&&(u=d[S],d[S]=void 0,g--);else if(b<w)for(i=b;i<w;i++)if(void 0!==f[i]&&s(a=f[i],c,o)){u=a,f[i]=void 0,i===w-1&&w--,i===b&&b++;break}u=m(u,c,n,r),l=h[j],u&&u!==e&&u!==l&&(null==l?e.appendChild(u):u===l.nextSibling?p(l):e.insertBefore(u,l))}if(g)for(var j in d)void 0!==d[j]&&y(d[j],!1);for(;b<=w;)void 0!==(u=f[w--])&&y(u,!1)}function y(e,t){var n=e._component;n?k(n):(null!=e.__preactattr_&&r(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||p(e),v(e))}function v(e){for(e=e.lastChild;e;){var t=e.previousSibling;y(e,!0),e=t}}function w(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||h(e,r,n[r],n[r]=void 0,N);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||h(e,r,n[r],n[r]=t[r],N)}function O(e,t,n){var r,o=G.length;for(e.prototype&&e.prototype.render?(r=new e(t,n),C.call(r,t,n)):(r=new C(t,n),r.constructor=e,r.render=j);o--;)if(G[o].constructor===e)return r.__b=G[o].__b,G.splice(o,1),r;return r}function j(e,t,n){return this.constructor(e,n)}function _(e,t,n,o,a){e.__x||(e.__x=!0,e.__r=t.ref,e.__k=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||a?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o)),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===F.syncComponentUpdates&&e.base?i(e):x(e,1,a)),r(e.__r,e))}function x(e,t,r,o){if(!e.__x){var i,a,s,l=e.props,u=e.state,p=e.context,h=e.__p||l,f=e.__s||u,m=e.__c||p,b=e.base,v=e.__b,w=b||v,j=e._component,S=!1,C=m;if(e.constructor.getDerivedStateFromProps&&(u=n(n({},u),e.constructor.getDerivedStateFromProps(l,u)),e.state=u),b&&(e.props=h,e.state=f,e.context=m,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(l,u,p)?S=!0:e.componentWillUpdate&&e.componentWillUpdate(l,u,p),e.props=l,e.state=u,e.context=p),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!S){i=e.render(l,u,p),e.getChildContext&&(p=n(n({},p),e.getChildContext())),b&&e.getSnapshotBeforeUpdate&&(C=e.getSnapshotBeforeUpdate(h,f));var P,T,E=i&&i.nodeName;if("function"==typeof E){var I=c(i);a=j,a&&a.constructor===E&&I.key==a.__k?_(a,I,1,p,!1):(P=a,e._component=a=O(E,I,p),a.__b=a.__b||v,a.__u=e,_(a,I,0,p,!1),x(a,1,r,!0)),T=a.base}else s=w,P=j,P&&(s=e._component=null),(w||1===t)&&(s&&(s._component=null),T=g(s,i,p,r||!b,w&&w.parentNode,!0));if(w&&T!==w&&a!==j){var L=w.parentNode;L&&T!==L&&(L.replaceChild(T,w),P||(w._component=null,y(w,!1)))}if(P&&k(P),e.base=T,T&&!o){for(var A=e,D=e;D=D.__u;)(A=D).base=T;T._component=A,T._componentConstructor=A.constructor}}for(!b||r?U.push(e):S||(e.componentDidUpdate&&e.componentDidUpdate(h,f,C),F.afterUpdate&&F.afterUpdate(e));e.__h.length;)e.__h.pop().call(e);M||o||d()}}function S(e,t,n,r){for(var o=e&&e._component,i=o,a=e,s=o&&e._componentConstructor===t.nodeName,l=s,u=c(t);o&&!l&&(o=o.__u);)l=o.constructor===t.nodeName;return o&&l&&(!r||o._component)?(_(o,u,3,n,r),e=o.base):(i&&!s&&(k(i),e=a=null),o=O(t.nodeName,u,n),e&&!o.__b&&(o.__b=e,a=null),_(o,u,1,n,r),e=o.base,a&&e!==a&&(a._component=null,y(a,!1))),e}function k(e){F.beforeUnmount&&F.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?k(n):t&&(null!=t.__preactattr_&&r(t.__preactattr_.ref,null),e.__b=t,p(t),G.push(e),v(t)),r(e.__r,null)}function C(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{},this.__h=[]}function P(e,t,n){return g(n,e,{},!1,t,!1)}function T(){return{}}var E=function(){},F={},I=[],L=[],A="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,D=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,R=[],U=[],M=0,N=!1,$=!1,G=[];n(C.prototype,{setState:function(e,t){this.__s||(this.__s=this.state),this.state=n(n({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this.__h.push(t),i(this)},forceUpdate:function(e){e&&this.__h.push(e),x(this,2)},render:function(){}});var B={h:t,createElement:t,cloneElement:o,createRef:T,Component:C,render:P,rerender:a,options:F};e.exports=B}()},Krcl:function(e,t){"use strict";var n,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){function i(e){return!!e.exifdata}function a(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,o=new ArrayBuffer(r),i=new Uint8Array(o),a=0;a<r;a++)i[a]=n.charCodeAt(a);return o}function s(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){200!=this.status&&0!==this.status||t(this.response)},n.send()}function l(e,t){function n(n){var r=c(n),o=u(n);e.exifdata=r||{},e.iptcdata=o||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var r=a(e.src);n(r)}else if(/^blob\:/i.test(e.src)){var o=new FileReader;o.onload=function(e){n(e.target.result)},s(e.src,function(e){o.readAsArrayBuffer(e)})}else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(i.response),i=null},i.open("GET",e.src,!0),i.responseType="arraybuffer",i.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var o=new FileReader;o.onload=function(e){y&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},o.readAsArrayBuffer(e)}}function c(e){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var n,r=2,o=e.byteLength;r<o;){if(255!=t.getUint8(r))return y&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(n=t.getUint8(r+1),y&&console.log(n),225==n)return y&&console.log("Found 0xFFE1 marker"),b(t,r+4,t.getUint16(r+2));r+=2+t.getUint16(r+2)}}function u(e){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var n=2,r=e.byteLength;n<r;){if(function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)}(t,n)){var o=t.getUint8(n+7);o%2!=0&&(o+=1),0===o&&(o=4);return p(e,n+8+o,t.getUint16(n+6+o))}n++}}function p(e,t,n){for(var r,o,i,a,s=new DataView(e),l={},c=t;c<t+n;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(a=s.getUint8(c+2))in S&&(i=s.getInt16(c+3),i+5,o=S[a],r=m(s,c+5,i),l.hasOwnProperty(o)?l[o]instanceof Array?l[o].push(r):l[o]=[l[o],r]:l[o]=r),c++;return l}function h(e,t,n,r,o){var i,a,s,l=e.getUint16(n,!o),c={};for(s=0;s<l;s++)i=n+12*s+2,a=r[e.getUint16(i,!o)],!a&&y&&console.log("Unknown tag: "+e.getUint16(i,!o)),c[a]=f(e,i,t,n,o);return c}function f(e,t,n,r,o){var i,a,s,l,c,u,p=e.getUint16(t+2,!o),h=e.getUint32(t+4,!o),f=e.getUint32(t+8,!o)+n;switch(p){case 1:case 7:if(1==h)return e.getUint8(t+8,!o);for(i=h>4?f:t+8,a=[],l=0;l<h;l++)a[l]=e.getUint8(i+l);return a;case 2:return i=h>4?f:t+8,m(e,i,h-1);case 3:if(1==h)return e.getUint16(t+8,!o);for(i=h>2?f:t+8,a=[],l=0;l<h;l++)a[l]=e.getUint16(i+2*l,!o);return a;case 4:if(1==h)return e.getUint32(t+8,!o);for(a=[],l=0;l<h;l++)a[l]=e.getUint32(f+4*l,!o);return a;case 5:if(1==h)return c=e.getUint32(f,!o),u=e.getUint32(f+4,!o),s=new Number(c/u),s.numerator=c,s.denominator=u,s;for(a=[],l=0;l<h;l++)c=e.getUint32(f+8*l,!o),u=e.getUint32(f+4+8*l,!o),a[l]=new Number(c/u),a[l].numerator=c,a[l].denominator=u;return a;case 9:if(1==h)return e.getInt32(t+8,!o);for(a=[],l=0;l<h;l++)a[l]=e.getInt32(f+4*l,!o);return a;case 10:if(1==h)return e.getInt32(f,!o)/e.getInt32(f+4,!o);for(a=[],l=0;l<h;l++)a[l]=e.getInt32(f+8*l,!o)/e.getInt32(f+4+8*l,!o);return a}}function d(e,t,n){return e.getUint32(t+2+12*e.getUint16(t,!n),!n)}function g(e,t,n,r){var o=d(e,t+n,r);if(!o)return{};if(o>e.byteLength)return{};var i=h(e,t,t+o,_,r);if(i.Compression)switch(i.Compression){case 6:if(i.JpegIFOffset&&i.JpegIFByteCount){var a=t+i.JpegIFOffset,s=i.JpegIFByteCount;i.blob=new Blob([new Uint8Array(e.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",i.Compression)}else 2==i.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return i}function m(e,t,n){for(var r="",o=t;o<t+n;o++)r+=String.fromCharCode(e.getUint8(o));return r}function b(e,t){if("Exif"!=m(e,t,4))return y&&console.log("Not valid EXIF data! "+m(e,t,4)),!1;var n,r,o,i,a,s=t+6;if(18761==e.getUint16(s))n=!1;else{if(19789!=e.getUint16(s))return y&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(s+2,!n))return y&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var l=e.getUint32(s+4,!n);if(l<8)return y&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!n)),!1;if(r=h(e,s,s+l,O,n),r.ExifIFDPointer){i=h(e,s,s+r.ExifIFDPointer,w,n);for(o in i){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":i[o]=x[o][i[o]];break;case"ExifVersion":case"FlashpixVersion":i[o]=String.fromCharCode(i[o][0],i[o][1],i[o][2],i[o][3]);break;case"ComponentsConfiguration":i[o]=x.Components[i[o][0]]+x.Components[i[o][1]]+x.Components[i[o][2]]+x.Components[i[o][3]]}r[o]=i[o]}}if(r.GPSInfoIFDPointer){a=h(e,s,s+r.GPSInfoIFDPointer,j,n);for(o in a){switch(o){case"GPSVersionID":a[o]=a[o][0]+"."+a[o][1]+"."+a[o][2]+"."+a[o][3]}r[o]=a[o]}}return r.thumbnail=g(e,s,l,n),r}var y=!1,v=function e(t){return t instanceof e?t:this instanceof e?void(this.EXIFwrapped=t):new e(t)};void 0!==e&&e.exports&&(t=e.exports=v),t.EXIF=v;var w=v.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},O=v.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},j=v.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},_=v.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},x=v.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},S={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};v.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(i(e)?t&&t.call(e):l(e,t),!0)},v.getTag=function(e,t){if(i(e))return e.exifdata[t]},v.getIptcTag=function(e,t){if(i(e))return e.iptcdata[t]},v.getAllTags=function(e){if(!i(e))return{};var t,n=e.exifdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},v.getAllIptcTags=function(e){if(!i(e))return{};var t,n=e.iptcdata,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r},v.pretty=function(e){if(!i(e))return"";var t,n=e.exifdata,r="";for(t in n)n.hasOwnProperty(t)&&("object"==o(n[t])?n[t]instanceof Number?r+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":r+=t+" : ["+n[t].length+" values]\r\n":r+=t+" : "+n[t]+"\r\n");return r},v.readFromBinaryFile=function(e){return c(e)},n=[],void 0!==(r=function(){return v}.apply(t,n))&&(e.exports=r)}).call(void 0)},Pq4u:function(e){"use strict";function t(e){return e>=55296&&e<=56319}function n(e){return e>=56320&&e<=57343}e.exports=function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var r=e.length,o=0,i=null,a=null,s=0;s<r;s++)i=e.charCodeAt(s),n(i)?null!=a&&t(a)?o+=1:o+=3:i<=127?o+=1:i>=128&&i<=2047?o+=2:i>=2048&&i<=65535&&(o+=3),a=i;return o}},VidE:function(e,t,n){function r(e,t){t=t||{};var n,r,l=t.h||i.h;if("string"==typeof e)n=e,e={};else{if(!e||"string"!=typeof e.markdown)throw new Error("Invalid arguments. Markdown requires either a `<String>` or object: `{markdown: <String>}`");n=e.markdown}var r=e.markupOpts||t.markupOpts||{};return l(a,o({markup:s(n,e.markdownOpts||t.markdownOpts||{}),trim:!1,type:"html"},r))}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n("KM04"),a=n("f1ur"),s=n("3F7m");e.exports=r},Xyob:function(e){"use strict";e.exports=function(e,n,r){var o,i,a,s,l=e||0,c=n||0,u=l-c;if("[object Date]"!==toString.call(r))throw new Error("You must pass a valid date object");return o=Math.log10(Math.max(Math.abs(u),1)),i=u>0?1:u<0?-1:0,a=t(r)-1134028003,s=i*o+a/45e3,s.toPrecision(11)};var t=function(e){return(e.getTime()-new Date(1970,1,1).getTime())/1e3}},YEvp:function(e,t,n){"use strict";function r(e,t){var n=e.replace(i,t).replace(a,t).replace(s,t).replace(l,t).replace(c,t);return o(n,255)}var o=n("eGCE"),i=/[\/\?<>\\:\*\|":]/g,a=/[\x00-\x1f\x80-\x9f]/g,s=/^\.+$/,l=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,c=/[\. ]+$/;e.exports=function(e,t){var n=t&&t.replacement||"",o=r(e,n);return""===n?o:r(o,"")}},Yhwg:function(e,t,n){!function(t,r){e.exports=r(n("KM04"),n("ratk"))}(0,function(e,t){"use strict";t="default"in t?t.default:t,function(e){e=e||"";var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}(".tags-input{display:inline-block;padding:0 2px;background:#FFF;border:1px solid #CCC;width:16em;border-radius:2px;box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.tags-input .tag{display:inline-block;background:#EEE;color:#444;padding:0 4px;margin:2px;border:1px solid #CCC;border-radius:2px;font:inherit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;transition:all .1s ease}.tags-input .tag.selected{background-color:#777;border-color:#777;color:#EEE}.tags-input .tag.dupe{-webkit-transform:scale3d(1.2,1.2,1.2);transform:scale3d(1.2,1.2,1.2);background-color:#FCC;border-color:#700}.tags-input input{-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;display:inline-block!important;padding:3px;margin:0!important;background:0 0!important;border:none!important;box-shadow:none!important;font:inherit!important;font-size:100%!important;outline:0!important}.tags-input .selected~input{opacity:.3}");var n=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};return function(a){function s(){return i(this,a.apply(this,arguments))}return o(s,a),s.prototype.shouldComponentUpdate=function(){return!1},s.prototype.componentDidMount=function(){t(this.getInput()),this.getInput().setValue(this.value||"")},s.prototype.getInput=function(){var e=this.base;return e&&(e.lastElementChild||e.lastChild)},s.prototype.setValue=function(e){var t=this.getInput();t&&(t.setValue?String(e)!==String(t.getValue())&&t.setValue(String(e)):t.value=e)},s.prototype.getValue=function(){var e=this.getInput(),t=e?e.getValue?e.getValue():e.value:this.props.value;return"string"==typeof t?t.split(","):t},s.prototype.componentWillReceiveProps=function(e){var t=e.value,n=this.getValue();t!==n&&String(t)!==String(n)&&this.setValue(t)},s.prototype.handleEvent=function(e){var t=e.type,n=e.target;"change"===t&&this.handleEvent({type:"input",target:n});var r=this.getValue();for(var o in this.props)this.props.hasOwnProperty(o)&&o.toLowerCase()==="on"+t&&this.props[o]({type:t,value:r,target:n,currentTarget:this})},s.prototype.render=function(t){var o=void 0,i={},a=this.handleEvent.bind(this);for(var s in t)t.hasOwnProperty(s)&&("class"===s||"className"===s?o=t[s]:s.match(/^on(input|change)$/i)||(i[s]=t[s]));return i.type="tags",o?"string"==typeof o?o+=" token-input":"object"===(void 0===o?"undefined":n(o))&&(o["token-input"]=!0):o="token-input",e.h("div",{class:o},e.h("input",r({},i,{onChange:a,onInput:a})))},s}(e.Component)})},dj9O:function(e){!function(t,n){"object"==typeof e&&e.exports?e.exports=n():t.timeago=n()}("undefined"!=typeof window?window:this,function(){function e(e){return e instanceof Date?e:isNaN(e)?/^\d+$/.test(e)?new Date(t(e,10)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/T/," ").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)):new Date(t(e))}function t(e){return parseInt(e)}function n(e,n,r){n=p[n]?n:p[r]?r:"en";var o=0,i=e<0?1:0;for(e=Math.abs(e);e>=h[o]&&o<f;o++)e/=h[o];return e=t(e),o*=2,e>(0===o?9:1)&&(o+=1),p[n](e,o)[i].replace("%s",e)}function r(t,n){return((n=n?e(n):new Date)-e(t))/1e3}function o(e){for(var t=1,n=0,r=Math.abs(e);e>=h[n]&&n<f;n++)e/=h[n],t*=h[n];return r%=t,r=r?t-r:t,Math.ceil(r)}function i(e){return e.getAttribute?e.getAttribute(d):e.attr?e.attr(d):void 0}function a(e,t){function a(i,l,c,u){var p=r(l,e);i.innerHTML=n(p,c,t),s["k"+u]=setTimeout(function(){a(i,l,c,u)},1e3*o(p))}var s={};return t||(t="en"),this.format=function(o,i){return n(r(o,e),i,t)},this.render=function(e,t){void 0===e.length&&(e=[e]);for(var n=0;n<e.length;n++)a(e[n],i(e[n]),t,++l)},this.cancel=function(){for(var e in s)clearTimeout(s[e]);s={}},this.setLocale=function(e){t=e},this}function s(e,t){return new a(e,t)}var l=0,c="second_minute_hour_day_week_month_year".split("_"),u="秒_分钟_小时_天_周_月_年".split("_"),p={en:function(e,t){if(0===t)return["just now","right now"];var n=c[parseInt(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]},zh_CN:function(e,t){if(0===t)return["刚刚","片刻后"];var n=u[parseInt(t/2)];return[e+n+"前",e+n+"后"]}},h=[60,60,24,7,365/7/12,12],f=6,d="datetime";return s.register=function(e,t){p[e]=t},s})},eGCE:function(e,t,n){"use strict";e.exports=n("FCYz").bind(null,n("Pq4u"))},f1ur:function(e,t,n){!function(t,r){e.exports=r(n("KM04"))}(0,function(e){"use strict";function t(e,t){var r=void 0,o="html"===t?"text/html":"application/xml",i=void 0,a=void 0,s=void 0;"html"===t?(s="body",a="<!DOCTYPE html>\n<html><body>"+e+"</body></html>"):(s="xml",a='<?xml version="1.0" encoding="UTF-8"?>\n<xml>'+e+"</xml>");try{r=(new DOMParser).parseFromString(a,o)}catch(e){i=e}if(r||"html"!==t||(r=u||(u=n()),r.open(),r.write(a),r.close()),r){var l=r.getElementsByTagName(s)[0],c=l.firstChild;return e&&!c&&(l.error="Document parse failed."),c&&"parsererror"===String(c.nodeName).toLowerCase()&&(c.removeChild(c.firstChild),c.removeChild(c.lastChild),l.error=c.textContent||c.nodeValue||i||"Unknown error",l.removeChild(c)),l}}function n(){if(document.implementation&&document.implementation.createHTMLDocument)return document.implementation.createHTMLDocument("");var e=document.createElement("iframe");return e.style.cssText="position:absolute; left:0; top:-999em; width:1px; height:1px; overflow:hidden;",e.setAttribute("sandbox","allow-forms"),document.body.appendChild(e),e.contentWindow.document}function r(e,t,n,r){return o.visitor=t,o.h=n,o.options=r||p,o(e)}function o(e,t,n){if(3===e.nodeType){var r="textContent"in e?e.textContent:e.nodeValue||"";if(!1!==o.options.trim){var s=0===t||t===n.length-1;if((!(r=r.match(/^[\s\n]+$/g)&&"all"!==o.options.trim?" ":r.replace(/(^[\s\n]+|[\s\n]+$)/g,"all"===o.options.trim||s?"":" "))||" "===r)&&n.length>1&&s)return null}return r}if(1!==e.nodeType)return null;var l=String(e.nodeName).toLowerCase();if("script"===l&&!o.options.allowScripts)return null;var c=o.h(l,i(e.attributes),a(e.childNodes));return o.visitor&&o.visitor(c),c}function i(e){var t=e&&e.length;if(!t)return null;for(var n={},r=0;r<t;r++){var i=e[r],a=i.name,s=i.value;""===s&&(s=!0),"on"===a.substring(0,2)&&o.options.allowEvents&&(s=new Function(s)),n[a]=s}return n}function a(e){var t=e&&Array.prototype.map.call(e,o).filter(h);return t&&t.length?t:null}function s(e,n,o,i,a){var s=t(e,n);if(s&&s.error)throw new Error(s.error);var l=s&&s.body||s;c.map=i||f;var u=l&&r(l,c,o,a);return c.map=null,u&&u.children||null}function l(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function c(e){var t=e.nodeName.toLowerCase(),n=c.map;n&&n.hasOwnProperty(t)?(e.nodeName=n[t],e.attributes=Object.keys(e.attributes||{}).reduce(function(t,n){return t[l(n)]=e.attributes[n],t},{})):e.nodeName=t.replace(/[^a-z0-9-]/i,"")}var u=void 0,p={},h=function(e){return e},f={},d=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},m=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},b=void 0;return function(t){function n(){return m(this,t.apply(this,arguments))}return d(n,t),n.setReviver=function(e){b=e},n.prototype.shouldComponentUpdate=function(e){var t=e.wrap,n=e.type,r=e.markup,o=this.props;return t!==o.wrap||n!==o.type||r!==o.markup},n.prototype.setComponents=function(e){if(this.map={},e)for(var t in e)if(e.hasOwnProperty(t)){var n=t.replace(/([A-Z]+)([A-Z][a-z0-9])|([a-z0-9]+)([A-Z])/g,"$1$3-$2$4").toLowerCase();this.map[n]=e[t]}},n.prototype.render=function(t){var n=t.wrap,r=void 0===n||n,o=t.type,i=t.markup,a=t.components,l=t.reviver,c=t.onError,u=t["allow-scripts"],p=t["allow-events"],h=t.trim,f=g(t,["wrap","type","markup","components","reviver","onError","allow-scripts","allow-events","trim"]),d=l||this.reviver||this.constructor.prototype.reviver||b||e.h,m=void 0;this.setComponents(a);var y={allowScripts:u,allowEvents:p,trim:h};try{m=s(i,o,d,this.map,y)}catch(e){c?c({error:e}):"undefined"!=typeof console&&console.error&&console.error("preact-markup: "+e)}if(!1===r)return m&&m[0]||null;var v=f.hasOwnProperty("className")?"className":"class",w=f[v];return w?w.splice?w.splice(0,0,"markup"):"string"==typeof w?f[v]+=" markup":"object"==typeof w&&(w.markup=!0):f[v]="markup",d("div",f,m||null)},n}(e.Component)})},h6ac:function(e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},pwNi:function(e,t,n){"use strict";var r=n("KM04");"serviceWorker"in navigator&&"https:"===location.protocol&&navigator.serviceWorker.register(n.p+"sw.js");var o=function(e){return e&&e.default?e.default:e};if("function"==typeof o(n("JkW7"))){var i=document.body.firstElementChild,a=function(){var e=o(n("JkW7"));i=(0,r.render)((0,r.h)(e),document.body,i)};a()}},ratk:function(e,t){var n,r,o;!function(i,a){r=[t,e],n=a,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o)}(0,function(e,t){"use strict";function n(e){function t(e,t,n,r){var o=document.createElement(e);t&&(o.className=t),n&&(o.textContent=n);for(var i in r)o.setAttribute("data-"+i,r[i]);return o}function n(e,t){return!0===t?Array.prototype.slice.call(w.querySelectorAll(e)):w.querySelector(e)}function h(){return n(".tag",!0).map(function(e){return e.textContent}).concat(w.input.value||[]).join(u)}function f(e){n(".tag",!0).forEach(function(e){return w.removeChild(e)}),y(e)}function d(){e.value=h(),e.dispatchEvent(new Event("change"))}function g(r){if(~r.indexOf(u)&&(r=r.split(u)),Array.isArray(r))return r.forEach(g);var o=r&&r.trim();if(!o)return!1;if(!e.getAttribute("duplicates")){var i=function(){var e=n('[data-tag="'+o+'"]');if(e)return e.classList.add("dupe"),setTimeout(function(){return e.classList.remove("dupe")},100),{v:!1}}();if("object"==typeof i)return i.v}w.insertBefore(t("span","tag",o,{tag:o}),w.input)}function m(e){var t=n(".selected");t&&t.classList.remove("selected"),e&&e.classList.add("selected")}function b(){var e=n(".tag",!0).pop(),t=w.offsetWidth;t&&(w.input.style.width=Math.max(t-(e?e.offsetLeft+e.offsetWidth:5)-5,t/4)+"px")}function y(e){"string"==typeof e||Array.isArray(e)||(e=w.input.value),!1!==g(e)&&(w.input.value="",d(),b())}function v(e){return e.target.classList.contains("tag")&&m(e.target),e.target===w.input?m():(w.input.focus(),e.preventDefault(),!1)}var w=t("div","tags-input"),O=e.nextSibling;e.parentNode[O?"insertBefore":"appendChild"](w,O),e.style.cssText="position:absolute;left:0;top:-99px;width:1px;height:1px;opacity:0.01;",e.tabIndex=-1,w.input=t("input"),w.input.setAttribute("type","text"),p.forEach(function(t){if(e[t]!==w.input[t]){w.input[t]=e[t];try{delete e[t]}catch(e){}}}),w.appendChild(w.input),e.addEventListener("focus",function(){w.input.focus()}),w.input.addEventListener("focus",function(){w.classList.add("focus"),m()}),w.input.addEventListener("blur",function(){w.classList.remove("focus"),m(),y()}),w.input.addEventListener("keydown",function(e){var t=w.input,u=e.keyCode||e.which,p=n(".tag.selected"),h=t.selectionStart===t.selectionEnd&&t.selectionStart,f=n(".tag",!0).pop();if(b(),u===i||u===c||u===o){if(!t.value&&u!==c)return;y()}else if(u===l&&p)p.nextSibling!==w.input&&m(p.nextSibling),w.removeChild(p),b(),d();else if(u===r)if(p)m(p.previousSibling),w.removeChild(p),b(),d();else{if(!f||0!==h)return;m(f)}else if(u===a)if(p)p.previousSibling&&m(p.previousSibling);else{if(0!==h)return;m(f)}else{if(u!==s)return m();if(!p)return;m(p.nextSibling)}return e.preventDefault(),!1}),w.input.addEventListener("input",function(){e.value=h(),e.dispatchEvent(new Event("input"))}),w.input.addEventListener("paste",function(){return setTimeout(y,0)}),w.addEventListener("mousedown",v),w.addEventListener("touchstart",v),w.setValue=f,w.getValue=h,y(e.value)}t.exports=n;var r=8,o=9,i=13,a=37,s=39,l=46,c=188,u=",",p="placeholder pattern spellcheck autocomplete autocapitalize autofocus accessKey accept lang minLength maxLength required".split(" ");n.enhance=n.tagsInput=n})},xZyk:function(e,t,n){"use strict";function r(e,t){return new Promise(function(n){var r=document.createElement("img"),i=new FileReader,a=p({},d,t);i.onload=function(e){r.src=e.target.result,r.onload=function(){a.autoRotate&&(a.debug&&console.log("browser-image-resizer: detecting image orientation..."),"function"==typeof f.default.getData&&"function"==typeof f.default.getTag?f.default.getData(r,function(){var e=f.default.getTag(this,"Orientation");a.debug&&console.log("browser-image-resizer: image orientation from EXIF tag = "+e),n(o(r,a,e))}):(console.error("browser-image-resizer: can't read EXIF data, the Exif.js library not found"),n(o(r,a))))}},i.readAsDataURL(e)})}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=document.createElement("canvas");r.width=e.width,r.height=e.height;var o=r.getContext("2d");o.save(),a(r,o,n,e);for(var u=i(t,r);r.width>=2*u;)r=c(r);r.width>u&&(r=l(r,p(t,{outputWidth:u})));var h=r.toDataURL(t.mimeType,t.quality);return"function"==typeof t.onScale&&t.onScale(h),s(h)}function i(e,t){var n=t.width/t.height,r=Math.min(t.width,e.maxWidth,n*e.maxHeight);return e.maxSize>0&&e.maxSize<t.width*t.height/1e3&&(r=Math.min(r,Math.floor(1e3*e.maxSize/t.height))),e.scaleRatio&&(r=Math.min(r,Math.floor(e.scaleRatio*t.width))),e.debug&&(console.log("browser-image-resizer: original image size = "+t.width+" px (width) X "+t.height+" px (height)"),console.log("browser-image-resizer: scaled image size = "+r+" px (width) X "+Math.floor(r/n)+" px (height)")),r<=0&&(r=1,console.warning("browser-image-resizer: image size is too small")),r}function a(e,t,n,r){var o=e.width,i=e.style.width,a=e.height,s=e.style.height;switch(n>4&&(e.width=a,e.style.width=s,e.height=o,e.style.height=i),n){case 2:t.translate(o,0),t.scale(-1,1);break;case 3:t.translate(o,a),t.rotate(Math.PI);break;case 4:t.translate(0,a),t.scale(1,-1);break;case 5:t.rotate(.5*Math.PI),t.scale(1,-1);break;case 6:t.rotate(.5*Math.PI),t.translate(0,-a);break;case 7:t.rotate(.5*Math.PI),t.translate(o,-a),t.scale(-1,1);break;case 8:t.rotate(-.5*Math.PI),t.translate(-o,0)}t.drawImage(r,0,0),t.restore()}function s(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return new Blob([r],{type:n})}function l(e,t){var n=document.createElement("canvas"),r=t.outputWidth/e.width;n.width=e.width*r,n.height=e.height*r;var o=e.getContext("2d").getImageData(0,0,e.width,e.height),i=n.getContext("2d").createImageData(n.width,n.height);return u(o,i,r),n.getContext("2d").putImageData(i,0,0),n}function c(e){var t=document.createElement("canvas");return t.width=e.width/2,t.height=e.height/2,t.getContext("2d").drawImage(e,0,0,t.width,t.height),t}function u(e,t,n){function r(e,t,n,r,o,i){var a=1-o,s=1-i;return e*a*s+t*o*s+n*a*i+r*o*i}var o,i,a,s,l,c,u,p,h,f,d,g,m,b,y,v,w,O,j;for(o=0;o<t.height;++o)for(a=o/n,s=Math.floor(a),l=Math.ceil(a)>e.height-1?e.height-1:Math.ceil(a),i=0;i<t.width;++i)c=i/n,u=Math.floor(c),p=Math.ceil(c)>e.width-1?e.width-1:Math.ceil(c),h=4*(i+t.width*o),f=4*(u+e.width*s),d=4*(p+e.width*s),g=4*(u+e.width*l),m=4*(p+e.width*l),b=c-u,y=a-s,v=r(e.data[f],e.data[d],e.data[g],e.data[m],b,y),t.data[h]=v,w=r(e.data[f+1],e.data[d+1],e.data[g+1],e.data[m+1],b,y),t.data[h+1]=w,O=r(e.data[f+2],e.data[d+2],e.data[g+2],e.data[m+2],b,y),t.data[h+2]=O,j=r(e.data[f+3],e.data[d+3],e.data[g+3],e.data[m+3],b,y),t.data[h+3]=j}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.scaleImage=o;var h=n("Krcl"),f=function(e){return e&&e.__esModule?e:{default:e}}(h),d={quality:.5,maxWidth:800,maxHeight:600,autoRotate:!0,debug:!1,mimeType:"image/jpeg"}},yY49:function(){}});
//# sourceMappingURL=bundle.fc1a7.js.map